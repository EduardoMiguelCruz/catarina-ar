<!DOCTYPE html>
<html>

<head>
    <title>Page Title</title>
    <script src="src/aframe.min-1.3.0.js"></script>
    <script src="src/aframe-ar.3.4.0.js"></script>    
    <script src="src/aframe-multisrc-component-0.3.js"></script>
    
    <!-- <script src="src/aframe.min-0.8.2.js"></script> -->
    <!-- <script src="src/aframe-ar.js"></script> -->
    <!-- <script src="https://aframe.io/releases/1.2.0/aframe.min.js"></script>
    <script src="https://raw.githack.com/jeromeetienne/AR.js/2.1.8/aframe/build/aframe-ar.js"></script>
    <script src="https://unpkg.com/aframe-event-set-component/dist/aframe-event-set-component.min.js"></script> -->


</head>
<!-- https://au.gmented.com/app/marker/marker.php -->

<body style='margin : 0px; overflow: hidden;'>
    <a-scene embedded vr-mode-ui="enabled: false;"
        arjs="trackingMethod: best; sourceType: webcam; debugUIEnabled: false; detectionMode: mono_and_matrix; matrixCodeType: 3x3;">
        <div id="markers"></div>
        <!-- define a simple camera -->
        <a-entity camera></a-entity>
    </a-scene>
    <script type="module">
        let markers = [
            {
                value: 1,
                images: {
                    // 'front': 'https://upload.wikimedia.org/wikipedia/commons/9/9a/Gull_portrait_ca_usa.jpg',
                    // 'back': 'https://upload.wikimedia.org/wikipedia/commons/9/9a/Gull_portrait_ca_usa.jpg',
                    // 'left': 'https://upload.wikimedia.org/wikipedia/commons/9/9a/Gull_portrait_ca_usa.jpg',
                    // 'rigth': 'https://upload.wikimedia.org/wikipedia/commons/9/9a/Gull_portrait_ca_usa.jpg',
                    // 'top': 'https://upload.wikimedia.org/wikipedia/commons/9/9a/Gull_portrait_ca_usa.jpg'
                    'front': 'images/1.jpg',
                    'back': 'images/2.jpg',
                    'left': 'images/3.jpg',
                    'rigth': 'images/4.jpg',
                    'top': 'images/5.jpg'
                }
            }
        ];
        // let html = `${markers.map(marker => {
        //     return `<!-- handle barcode marker -->
        //     <a-marker type='barcode' value='${marker.value}'>
        //             <!-- Front -->
        //             <a-image rotation="0 0 0" position="0 0 0.5" src="${marker.images.front}" animation="property: rotation; from: 0 0 0; to: 0 360 0; dur: 1000; startEvents: click"></a-image>
        //             <!-- Back -->
        //             <a-image rotation="0 180 0" position="0 0 -0.5" src="${marker.images.back}"></a-image>
        //             <!-- Rigth -->
        //             <a-image rotation="0 90 0" position="0.5 0 0" src="${marker.images.left}"></a-image>
        //             <!-- Left -->
        //             <a-image rotation="0 -90 0" position="-0.5 0 0" src="${marker.images.rigth}"></a-image>
        //             <!-- Top -->
        //             <a-image rotation="-90 0 0" position="0 0.5 0" src="${marker.images.top}"></a-image>
        //     </a-marker>`
        // })}`;
        let html = `${markers.map(marker => {
            return `
            <!-- handle barcode marker -->
            <a-marker type='barcode' value='${marker.value}'>
                <a-box position="0 0.5 0"
                       multisrc="srcs:${marker.images.rigth},${marker.images.left},${marker.images.back},${marker.images.front},${marker.images.top},${marker.images.top}"
                       material="transparent: true; opacity: 0.95; side: double;"
                       animation="property: rotation; to: 0 360 0; loop: true; dur: 10000">
                </a-box>
            </a-marker>`
        })}`;

        document.addEventListener("DOMContentLoaded", function(event) {
            const element = document.getElementById("markers");
            const parent = document.createElement('div');
            parent.innerHTML = html;
            element.replaceWith(...Array.from(parent.childNodes));
        });
    </script>
</body>

</html>